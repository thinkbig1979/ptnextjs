# ============================================================================
# PRODUCTION ENVIRONMENT TEMPLATE
# ============================================================================
# Copy this file to .env.production and fill in your actual values
# IMPORTANT: Never commit .env.production to version control
#
# BUILD-TIME vs RUNTIME VARIABLES:
# - NEXT_PUBLIC_* variables are embedded at BUILD TIME (rebuild required to change)
# - Server-side variables are read at RUNTIME (can change without rebuild)
# ============================================================================

# ----------------------------------------------------------------------------
# Node Environment
# ----------------------------------------------------------------------------
NODE_ENV=production
PORT=3000

# ----------------------------------------------------------------------------
# Database Configuration (PostgreSQL recommended)
# ----------------------------------------------------------------------------
DATABASE_URL=postgresql://ptnextjs:your-secure-password@postgres:5432/ptnextjs
USE_POSTGRES=true

# PostgreSQL Docker Configuration
POSTGRES_USER=ptnextjs
POSTGRES_PASSWORD=your-secure-password-change-this
POSTGRES_DB=ptnextjs
POSTGRES_DATA_PATH=/var/lib/ptnextjs/postgres

# Alternative: SQLite (for simple deployments)
# DATABASE_URL=file:///data/payload.db
# USE_POSTGRES=false

# ----------------------------------------------------------------------------
# Application URLs (BUILD-TIME - requires rebuild if changed)
# ----------------------------------------------------------------------------
NEXT_PUBLIC_SERVER_URL=https://yourdomain.com
NEXT_PUBLIC_SITE_URL=https://yourdomain.com
NEXT_PUBLIC_BASE_URL=https://yourdomain.com

# ----------------------------------------------------------------------------
# Payload CMS Security
# ----------------------------------------------------------------------------
# Secret key for JWT tokens and encryption - REQUIRED, minimum 32 characters
# Generate with: openssl rand -hex 32
PAYLOAD_SECRET=your-secret-key-here-minimum-32-characters-change-this

# ----------------------------------------------------------------------------
# Authentication & JWT
# ----------------------------------------------------------------------------
JWT_ACCESS_TOKEN_EXPIRY=1h
JWT_REFRESH_TOKEN_EXPIRY=7d

# ----------------------------------------------------------------------------
# Admin Account
# ----------------------------------------------------------------------------
# Initial admin credentials - change immediately after first login
ADMIN_EMAIL=admin@yourdomain.com
ADMIN_PASSWORD=change-this-secure-password

# ----------------------------------------------------------------------------
# hCaptcha Configuration
# ----------------------------------------------------------------------------
# Sign up at: https://www.hcaptcha.com/
# Used for spam protection on registration and review forms
# NOTE: Site key is BUILD-TIME, Secret key is RUNTIME
NEXT_PUBLIC_HCAPTCHA_SITE_KEY=your-hcaptcha-site-key
HCAPTCHA_SECRET_KEY=your-hcaptcha-secret-key

# ----------------------------------------------------------------------------
# Email Configuration (Resend)
# ----------------------------------------------------------------------------
# Get your API key from: https://resend.com/api-keys
# RESEND_API_KEY=re_your_api_key_here
# EMAIL_FROM_ADDRESS=notifications@yourdomain.com
# ADMIN_EMAIL_ADDRESS=admin@yourdomain.com

# ----------------------------------------------------------------------------
# Docker / Deployment Paths
# ----------------------------------------------------------------------------
# Path to git repository on VPS (used as build context)
PROJECT_DIR=/home/pt/ptnextjs

# Data persistence paths (create these directories on VPS before starting)
# PostgreSQL: sudo mkdir -p /var/lib/ptnextjs/postgres && sudo chown 999:999 /var/lib/ptnextjs/postgres
POSTGRES_DATA_PATH=/var/lib/ptnextjs/postgres
MEDIA_PATH=./media
BACKUP_PATH=./backups
SSL_CERTS_PATH=/etc/letsencrypt

# Domain for reverse proxy
DOMAIN=yourdomain.com

# ----------------------------------------------------------------------------
# Optional: Storage Configuration (S3)
# ----------------------------------------------------------------------------
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# AWS_BUCKET=your-bucket-name

# ----------------------------------------------------------------------------
# Optional: Analytics
# ----------------------------------------------------------------------------
# NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX
# NEXT_PUBLIC_PLAUSIBLE_DOMAIN=yourdomain.com

# ----------------------------------------------------------------------------
# Optional: Monitoring
# ----------------------------------------------------------------------------
# SENTRY_DSN=https://xxx@sentry.io/xxx
# SENTRY_ENVIRONMENT=production
