
@import url('https://fonts.googleapis.com/css2?family=Cormorant:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: light dark;
    --background: 228 33% 98%;
    --foreground: 0 0% 10%;
    --secondary: 0 0% 96%;
    --secondary-foreground: 0 0% 18%;
    --accent: 18 100% 50%;
    --accent-foreground: 0 0% 100%;
    --muted: 220 13% 91%;
    --muted-foreground: 220 9% 46%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 10%;
    --border: 220 13% 91%;
    --input: 220 13% 95%;
    --primary: 0 0% 10%;
    --primary-foreground: 0 0% 100%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 10%;
    --ring: 18 100% 50%;
    --radius: 0.5rem;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;
    --warning: 38 92% 50%;
    --warning-foreground: 38 100% 10%;
    --success: 142 71% 45%;
    --success-foreground: 142 100% 10%;
  }

  /* Enhanced media query for better mobile browser support */
  @media (prefers-color-scheme: dark) {
    :root:not(.light) {
      --background: 240 100% 8%;
      --foreground: 0 0% 96%;
      --secondary: 240 29% 13%;
      --secondary-foreground: 0 0% 88%;
      --accent: 18 100% 50%;
      --accent-foreground: 0 0% 100%;
      --muted: 215 28% 17%;
      --muted-foreground: 215 20% 65%;
      --card: 222 47% 16%;
      --card-foreground: 0 0% 96%;
      --border: 215 28% 17%;
      --input: 215 28% 17%;
      --primary: 0 0% 96%;
      --primary-foreground: 0 0% 10%;
      --popover: 222 47% 16%;
      --popover-foreground: 0 0% 96%;
      --ring: 18 100% 50%;
      --destructive: 0 62% 55%;
      --destructive-foreground: 0 0% 98%;
      --warning: 38 92% 55%;
      --warning-foreground: 38 100% 95%;
      --success: 142 71% 50%;
      --success-foreground: 142 100% 95%;
    }
  }

  .dark {
    --background: 240 100% 8%;
    --foreground: 0 0% 96%;
    --secondary: 240 29% 13%;
    --secondary-foreground: 0 0% 88%;
    --accent: 18 100% 50%;
    --accent-foreground: 0 0% 100%;
    --muted: 215 28% 17%;
    --muted-foreground: 215 20% 65%;
    --card: 222 47% 16%;
    --card-foreground: 0 0% 96%;
    --border: 215 28% 17%;
    --input: 215 28% 17%;
    --primary: 0 0% 96%;
    --primary-foreground: 0 0% 10%;
    --popover: 222 47% 16%;
    --popover-foreground: 0 0% 96%;
    --ring: 18 100% 50%;
    --destructive: 0 62% 55%;
    --destructive-foreground: 0 0% 98%;
    --warning: 38 92% 55%;
    --warning-foreground: 38 100% 95%;
    --success: 142 71% 50%;
    --success-foreground: 142 100% 95%;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-poppins-light;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-cormorant;
  }

  .font-cormorant {
    font-family: 'Cormorant', serif;
  }

  .font-poppins-light {
    font-family: 'Poppins', sans-serif;
    font-weight: 300;
  }

  .font-poppins-medium {
    font-family: 'Poppins', sans-serif;
    font-weight: 500;
  }

  .bg-gradient-hero {
    background: linear-gradient(135deg, hsl(var(--background)) 0%, hsl(var(--secondary)) 100%);
  }

  .dark .bg-gradient-hero {
    background: linear-gradient(135deg, hsl(var(--background)) 0%, hsl(var(--secondary)) 100%);
  }

  .parallax-bg {
    background-attachment: fixed;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
  }

  @media (prefers-reduced-motion: reduce) {
    .parallax-bg {
      background-attachment: scroll;
    }
  }

  .animate-count-up {
    animation: countUp 2s ease-out forwards;
  }

  @keyframes countUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .hover-lift {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .hover-lift:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
  }

  .dark .hover-lift:hover {
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
  }

  /* Custom scrollbar styles for dropdowns */
  .scrollbar-thin {
    scrollbar-width: thin;
  }
  
  .scrollbar-thumb-gray-300::-webkit-scrollbar-thumb {
    background-color: #d1d5db;
    border-radius: 4px;
  }
  
  .dark .scrollbar-thumb-gray-600::-webkit-scrollbar-thumb {
    background-color: #4b5563;
    border-radius: 4px;
  }
  
  .scrollbar-track-transparent::-webkit-scrollbar-track {
    background-color: transparent;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  /* Blog content typography styles */
  .prose {
    max-width: none;
  }
  
  .prose h1 {
    @apply text-4xl md:text-5xl font-cormorant font-bold mb-8 mt-12 text-foreground;
    line-height: 1.1;
  }
  
  .prose h2 {
    @apply text-3xl md:text-4xl font-cormorant font-bold mb-6 mt-10 text-foreground;
    line-height: 1.2;
  }
  
  .prose h3 {
    @apply text-2xl md:text-3xl font-cormorant font-semibold mb-5 mt-8 text-foreground;
    line-height: 1.25;
  }
  
  .prose h4 {
    @apply text-xl md:text-2xl font-cormorant font-semibold mb-4 mt-6 text-foreground;
    line-height: 1.3;
  }
  
  .prose h5 {
    @apply text-lg md:text-xl font-cormorant font-medium mb-3 mt-5 text-foreground;
    line-height: 1.35;
  }
  
  .prose h6 {
    @apply text-base md:text-lg font-cormorant font-medium mb-3 mt-4 text-foreground;
    line-height: 1.4;
  }
  
  .prose p {
    @apply text-base md:text-lg font-poppins-light leading-relaxed mb-6 text-foreground;
  }
  
  .prose ul,
  .prose ol {
    @apply mb-6 text-foreground;
  }
  
  .prose li {
    @apply text-base md:text-lg font-poppins-light leading-relaxed mb-2;
  }
  
  .prose blockquote {
    @apply border-l-4 border-accent pl-6 my-8 italic text-lg;
  }
  
  .prose code {
    @apply bg-muted px-2 py-1 rounded text-sm;
  }
  
  .prose pre {
    @apply bg-muted p-4 rounded-lg overflow-x-auto mb-6;
  }
  
  .prose strong {
    @apply font-medium text-foreground;
  }
  
  .prose em {
    @apply italic;
  }
  
  .prose a {
    @apply text-accent hover:text-accent/80 underline;
  }

  /* Text wrapping utilities */
  .word-wrap {
    word-wrap: break-word;
    overflow-wrap: break-word;
  }
  
  .hyphens-auto {
    hyphens: auto;
    -webkit-hyphens: auto;
    -ms-hyphens: auto;
  }

  /* ==========================================================================
     Abstract Visual System - Pixel Grid & Light Field Utilities
     ========================================================================== */

  /* Pixel Grid Background - Static grid pattern suggesting LED pixels */
  .pixel-grid-bg {
    background-image:
      linear-gradient(to right, hsl(var(--border)) 1px, transparent 1px),
      linear-gradient(to bottom, hsl(var(--border)) 1px, transparent 1px);
    background-size: 20px 20px;
  }

  /* Light Field Gradients - Radial gradients suggesting light behavior */
  .light-field {
    background: radial-gradient(
      ellipse at 30% 50%,
      hsl(var(--accent) / 0.15) 0%,
      transparent 50%
    );
  }

  .light-field-center {
    background: radial-gradient(
      ellipse at 50% 50%,
      hsl(var(--accent) / 0.12) 0%,
      transparent 50%
    );
  }

  .light-field-right {
    background: radial-gradient(
      ellipse at 70% 50%,
      hsl(var(--accent) / 0.15) 0%,
      transparent 50%
    );
  }

  /* Combined Pixel Field - Pixel grid with light field overlay for hero sections */
  .pixel-field {
    position: relative;
    background-image:
      linear-gradient(to right, hsl(var(--border) / 0.25) 1px, transparent 1px),
      linear-gradient(to bottom, hsl(var(--border) / 0.25) 1px, transparent 1px);
    background-size: 20px 20px;
  }

  .pixel-field::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(
      ellipse at 30% 50%,
      hsl(var(--accent) / 0.15) 0%,
      transparent 50%
    );
    pointer-events: none;
  }

  /* Pixel Field Dark - Optimized for dark mode hero sections */
  .pixel-field-dark {
    position: relative;
    background-image:
      linear-gradient(to right, hsl(var(--border) / 0.5) 1px, transparent 1px),
      linear-gradient(to bottom, hsl(var(--border) / 0.5) 1px, transparent 1px);
    background-size: 20px 20px;
  }

  .pixel-field-dark::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(
      ellipse at 30% 50%,
      hsl(var(--accent) / 0.2) 0%,
      transparent 55%
    );
    pointer-events: none;
  }

  /* Glow Accent - Subtle accent color glow for text/elements */
  .glow-accent {
    text-shadow: 0 0 20px hsl(var(--accent) / 0.3),
                 0 0 40px hsl(var(--accent) / 0.15);
  }

  /* Dark mode adjustments for visual system */
  .dark .pixel-grid-bg {
    background-image:
      linear-gradient(to right, hsl(var(--border) / 0.6) 1px, transparent 1px),
      linear-gradient(to bottom, hsl(var(--border) / 0.6) 1px, transparent 1px);
  }

  .dark .light-field {
    background: radial-gradient(
      ellipse at 30% 50%,
      hsl(var(--accent) / 0.2) 0%,
      transparent 55%
    );
  }

  .dark .light-field-center {
    background: radial-gradient(
      ellipse at 50% 50%,
      hsl(var(--accent) / 0.18) 0%,
      transparent 55%
    );
  }

  .dark .light-field-right {
    background: radial-gradient(
      ellipse at 70% 50%,
      hsl(var(--accent) / 0.2) 0%,
      transparent 55%
    );
  }

  .dark .pixel-field::before {
    background: radial-gradient(
      ellipse at 30% 50%,
      hsl(var(--accent) / 0.2) 0%,
      transparent 55%
    );
  }

  .dark .glow-accent {
    text-shadow: 0 0 25px hsl(var(--accent) / 0.4),
                 0 0 50px hsl(var(--accent) / 0.2);
  }

  /* Respect reduced motion preferences - disable any potential animations */
  @media (prefers-reduced-motion: reduce) {
    .pixel-grid-bg,
    .light-field,
    .light-field-center,
    .light-field-right,
    .pixel-field,
    .pixel-field-dark,
    .glow-accent {
      animation: none;
      transition: none;
    }
  }

  /* Mobile button highlighting fixes */
  @media (max-width: 768px) {
    button:focus,
    button:active {
      outline: none !important;
      background-color: transparent !important;
    }
    
    button[data-state="open"] {
      background-color: transparent !important;
    }
    
    /* Specifically target theme toggle button */
    button[aria-label*="theme" i],
    button[aria-describedby*="theme" i] {
      -webkit-tap-highlight-color: transparent !important;
      tap-highlight-color: transparent !important;
    }
    
    /* Remove any lingering focus states on touch devices */
    button:focus:not(:focus-visible) {
      background-color: transparent !important;
      outline: none !important;
    }
    
    /* Improve dropdown scrolling on mobile */
    [data-radix-select-content],
    [data-radix-dropdown-menu-content] {
      -webkit-overflow-scrolling: touch;
      overscroll-behavior: contain;
    }
    
    /* Responsive typography adjustments for mobile */
    .prose h1 {
      @apply text-3xl mt-8 mb-6;
    }
    
    .prose h2 {
      @apply text-2xl mt-7 mb-5;
    }
    
    .prose h3 {
      @apply text-xl mt-6 mb-4;
    }
    
    .prose p {
      @apply text-base mb-5;
    }
  }
}
